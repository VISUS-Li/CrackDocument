# 一、 加解密算法
## 一）、编码和加密
### 1. 编码：
编码是信息从一种形式或格式转换为另一种形式的过程。解码，是编码的逆过程。常用的编解码的算法是公开的，简单的，任何人都可以进行解码。
### 2. 常见编码方式：
- Base64：
- 多语种编码：(UTF-8(Unicode), UTF-16,UTF-32, Unicode, ISO8859-1, GBK, GB2312)
    - 这里说的编码主要是对各种语言的编码。世界上有很多语言，汉语、日语、英语、拉丁语等等，它们在计算机里需要有一种表现形式，于是，就有了每种语言的编码（例如：GB2312是针对中文的编码）以及可以容纳所有语言的编码（例如：UTF-8）
- BER/DER编码：
- HTML、JS、URL编码：
    - 这类编码是针对脚本语言或者标签语言中的字符串中的特殊字符进行处理，以防这些特殊字符破坏了原来的语义。通过这类编码可以预防注入问题的发生。所以，当你接受输入或者输出信息到标签语言或者脚本语言中时，必须考虑编码，将特殊字符无害化处理。
## 二）、加密简介：
- 加密一般分为对称加密(Symmetric Key Encryption)和非对称加密(Asymmetric Key Encryption)
- 对称加密又分为分组加密和序列密码。
- 分组密码，也叫块加密(block cyphers)，一次加密明文中的一个块。是将明文按一定的位长分组，明文组经过加密运算得到密文组，密文组经过解密运算（加密运算的逆运算），还原成明文组。
    - 分组密码是将明文消息编码表示后的数字序列，划分成长度相等的组，暂且定义为n，n>0,每组分别在密钥的控制下变换成等长的数组数字序列

    - 分组密码解决了密钥长度与明文一致的这个问题，分组密码加密固定长度的分组，需要加密的明文长度可能超过

    - 分组密码的分组长度，此时就需要对分组密码进行迭代，以便将长明文进行加密，迭代的方法就成为分组密码的模式

    - 优点：明文信息良好的扩展性，对插入的敏感性，不需要密钥同步，较强的适用性，

    - 缺点：加密速度慢，错误扩散和传播，穷举法较容易破译
- 序列密码，也叫流加密(stream cyphers)，一次加密明文中的一个位。是指利用少量的密钥（制乱元素）通过某种复杂的运算（密码算法）产生大量的伪随机位流，用于对明文位流的加密。
    - 流密码就是明文和密钥的长度一致，一一进行异或运算，可以得出密文，比如100m的明文就有100m的密钥

    - 序列密码通常用于传输协议中，如：RC4，最常用的流密码之一，它的密钥长度可变，用于SSL协议，以前曾被应用在802.11WEP协议标准中

    - 优点：序列密码实现简单，便于硬件实施，加解密处理速度快，没有或只有有限的错误传播等特点

    - 缺点：低扩展性，插入及修改的不敏感性，不够安全
- 解密是指用同样的密钥和密码算法及与加密相同的伪随机位流，用以还原明文位流
- 比较常见的对称加密有：DES、3DES、RC4、AES等等
- 加密算法都有几个共同的要点：
    - 密钥长度；（关系到密钥的强度）
    - 加密模式；（ecb、cbc等等）
    - 块加密算法里的填充方式区分
## 二）、填充模式：（PKCS7Padding/PKCS5Padding/ZeroPadding）
### 1. 简介：
某些加密算法要求明文需要按一定长度对齐，叫做块大小(BlockSize)，比如16字节，那么对于一段任意的数据，加密前需要对最后一个块填充到16 字节，解密后需要删除掉填充的数据。
### 2. ZeroPadding：
数据长度不对齐时使用0填充，否则不填充
### 3. PKCS7Padding：
假设数据长度需要填充n(n>0)个字节才对齐，那么填充n个字节，每个字节都是n;如果数据本身就已经对齐了，则填充一块长度为块大小的数据，每个字节都是块大小
### 4. PKCS5Padding：
PKCS5Padding，PKCS7Padding的子集，块大小固定为8字节

## 三）、加密模式：
### 1. 简介
- 分组加密算法中，有ECB,CBC,CFB,OFB这几种算法模式
- 对于加密模式，比如DES，也会有ECB、CBC等不同的区分，它们都是标准的；
    - Windows加密库中，默认则是CBC模式，也可以手工设置；
    - Openssl库要更明显一点，它的函数名里面就写明了，比如：DES_ncbc_encrypt，一看就知道是cbc模式；
    - JAVA里面也比较清楚：Cipher c = Cipher.getInstance(”DES/CBC/PKCS5Padding”); 也可以看到是CBC模式cc

